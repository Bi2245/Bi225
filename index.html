<!æ–‡æ¡£ç±»å‹è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€ >
< è¶…æ–‡æœ¬æ ‡è®°è¯­è¨€è¯­è¨€=â€œzh-é€šä¿¡ç½‘ç»œï¼ˆCommunicating Netçš„ç¼©å†™ï¼‰â€ >
< å¤´ >
< è‡ªæŒ‡çš„å­—ç¬¦é›†=â€œUTFå…«å·â€ >
< è‡ªæŒ‡çš„åå­— = "è§†çª—" å†…å®¹ = å®½åº¦=è®¾å¤‡å®½åº¦ï¼Œåˆå§‹æ¯”ä¾‹=1.0 >
<æ ‡é¢˜>æ£®-æˆ‘æ“ä½œç³»ç»Ÿï¼ˆOperating Systemï¼‰æ‰‹æœº(2.1ç‰ˆ)</tæˆ‘tle >
<é£æ ¼>
:root {
-æ‰‹æœº-å®½åº¦:375åƒç´ 
-æ‰‹æœº-é«˜åº¦:750åƒç´ 
-ä¸»æ–‡æœ¬:# 000;-æ¬¡è¦-æ–‡æœ¬:# 8e8e93
-èƒŒæ™¯è‰²:# f0f2f 5-QQ-blue:# 12b7f 5ï¼›
-ç”µæ± -ç»¿è‰²:# 34c759-ç”µæ± -çº¢è‰²:# ff3b30
-æ¶ˆæ¯-ç»¿è‰²:# 34C759-è®ºå›-æ©™:# FF9500
-è®¾ç½®-ç°è‰²:# 8E8E93-ç…§ç‰‡-è“è‰²:# 415ED0
-ä¹¦ç±-æ©™è‰²:# FF9500-éŸ³ä¹-ç²‰è‰²:# FF2D55
-ä¸»é¢˜-ç´«è‰²:# bf5af 2-JD-red:# e 31436ï¼›
-ç¾å›¢-é»„:# ffc 300-eleme-blue:# 0088 ffï¼›
        }

æ­£æ–‡{æ˜¾ç¤ºå™¨:çµæ´»è°ƒæ•´-å†…å®¹:å±…ä¸­ï¼›å¯¹é½-é¡¹ç›®ï¼šå±…ä¸­ï¼›èº«é«˜:100vhèƒŒæ™¯è‰²:#333;å­—ä½“-å®¶åº­çš„: -è‹¹æœ-ç³»ç»Ÿï¼ŒBlinkMacSystemFontï¼Œ" Segoe ç”¨æˆ·ç•Œé¢â€ï¼Œæœºå™¨äººï¼Œâ€œHelveticaæ–°â€œï¼ŒArialï¼Œæ— è¡¬çº¿ï¼›è¾¹è·ï¼š0;}
ã€‚ç”µè¯å®¹å™¨{ å®½åº¦:å®šä¹‰å˜é‡(-ç”µè¯-å®½åº¦)ï¼›é«˜åº¦:å®šä¹‰å˜é‡(-ç”µè¯-é«˜åº¦)ï¼›èƒŒæ™¯:# fffè¾¹æ¡†åŠå¾„:40pxbox-shadow: 0 10px 40px rgba(0ï¼Œ0ï¼Œ0ï¼Œ0.3)ï¼›æ˜¾ç¤ºå™¨:flexä¼¸ç¼©æ–¹å‘ï¼šåˆ—ï¼›æº¢å‡ºï¼šéšè—ï¼›ä½ç½®ï¼šç›¸å¯¹ï¼›è¾¹æ¡†:8pxçº¯è‰²# 111;}
ã€‚å±å¹•{å®½åº¦:100%;èº«é«˜:100%;æ˜¾ç¤ºå™¨:å¼¯æ›²ä¼¸ç¼©æ–¹å‘ï¼šåˆ—ï¼›ä½ç½®ï¼šç›¸å¯¹ï¼›èƒŒæ™¯è‰²:var(-èƒŒæ™¯è‰²)ï¼›}

        /* çŠ¶æ€æ æ ·å¼ */
ã€‚çŠ¶æ€æ {é«˜åº¦:40ä¾¿å£«xæ˜¾ç¤ºå™¨ï¼šå¼¯æ›² è¯æ˜åˆæ³•-å†…å®¹:ç©ºé—´-åœ¨...ä¹‹é—´ï¼›å¯¹é½-é¡¹ç›®ï¼šå±…ä¸­ï¼›å¡«å……:0 12pxé¢œè‰²ï¼šå®šä¹‰å˜é‡(-ä¸»è¦çš„-æ–‡æœ¬)ï¼›å­—ä½“å¤§å°:16ä¾¿å£«xå­—ä½“ç²—ç»†ï¼š600;ä½ç½®ï¼šç»å¯¹ï¼›é¡¶ç«¯:0ï¼›å·¦:0;å³:0;zæŒ‡æ•°:1100;èƒŒæ™¯è‰²ï¼šé€æ˜ï¼›}
ã€‚å·¦é¡¹,ã€‚æ­£ç¡®-é¡¹ç›® { æ˜¾ç¤º:å¼¯æ›²ï¼›å¯¹é½-é¡¹ç›®ï¼šå±…ä¸­ï¼›}
ã€‚å³-é¡¹ç›® { ç¼éš™:8pxï¼›}
ã€‚æ—¶é—´ { å­—ä½“-é‡é‡:700ï¼›}
ã€‚å…æ‰“æ‰°å›¾æ ‡{å·¦è¾¹è·:12pxå­—ä½“å¤§å°ï¼š20ä¾¿å£«xæ˜¾ç¤ºï¼šæ— ï¼›}
ã€‚ç½‘ç»œå®¹å™¨{ æ˜¾ç¤º:å¼¯æ›²ï¼›å¯¹é½-é¡¹ç›®:å±…ä¸­ï¼›å³è¾¹è·:8px}
ã€‚ç½‘ç»œå‹{ è¾¹ç¼˜-æ­£ç¡®:8pxï¼›å­—ä½“å¤§å°ï¼š14px}
ã€‚ä¿¡å·æ¡{ æ˜¾ç¤º:å¼¯æ›²ï¼›å¯¹é½-é¡¹ç›®:å¼¯æ›²-ç»“æŸï¼›é«˜åº¦:14px}
ã€‚ä¿¡å·æ¡{å®½åº¦:4pxèƒŒæ™¯è‰²ï¼šå½“å‰é¢œè‰²å³è¾¹è·:1pxè¾¹æ¡†-åŠå¾„ï¼š1px}
ã€‚ä¿¡å·-é…’å§:n-å„¿ç«¥(1){ é«˜åº¦:5pxï¼›} .ä¿¡å·æ¡:ç¬¬nä¸ªå­©å­(2) {é«˜åº¦:7px} .ä¿¡å·-é…’å§:n-å„¿ç«¥(3){ é«˜åº¦:9pxï¼›} .ä¿¡å·-é…’å§:n-å„¿ç«¥(4){ é«˜åº¦:11pxï¼›} .ä¿¡å·-é…’å§:n-å„¿ç«¥(5){ é«˜åº¦:14pxï¼›å³è¾¹è·ï¼š0ï¼›}
ã€‚ç”µæ± å®¹å™¨{ æ˜¾ç¤º:å¼¯æ›²ï¼›å¯¹é½-é¡¹ç›®:å±…ä¸­ï¼›}
        .ç”µæ± -å›¾æ ‡ { å®½åº¦: 32pxï¼›é«˜åº¦: 16ä¾¿å£«xï¼›è¾¹ç•Œ: 2pxå›ºä½“ å½“å‰é¢œè‰²; è¾¹ç•Œ-åŠå¾„: 5pxï¼›ä½ç½®: äº²æˆš; æ³›æ»¥: éšè—çš„; }
        .ç”µæ± -å›¾æ ‡::åœ¨...ä¹‹å { å†…å®¹: ''ï¼›ä½ç½®:ç»å¯¹ï¼›å³:-4pxï¼›top:4pxï¼›å®½åº¦:3pxé«˜åº¦:8pxèƒŒæ™¯è‰²:currentColorborder-radius:0 3px 3px 0ï¼›}
        .ç”µæ± -æ°´å¹³ { ä½ç½®: ç»å¯¹çš„; é¡¶ç«¯: 1pxï¼›å·¦è¾¹çš„: 1pxï¼›åº•éƒ¨: 1pxï¼›èƒŒæ™¯-é¢œè‰²: å½“å‰é¢œè‰²; è¾¹ç•Œ-åŠå¾„: ç”²æ°§èŠ³èŠ¥xï¼›å®½åº¦: 80%; è¿‡æ¸¡: å®½åº¦0.5sç¼“è§£, èƒŒæ™¯-é¢œè‰²0.5sç¼“è§£; }
        .ç”µæ± -æ–‡æœ¬ { ä½ç½®: ç»å¯¹çš„; é¡¶ç«¯: 50%; å·¦è¾¹çš„: 50%; æ”¹å˜: ç¿»è¯‘(-50%, -50%); å­—ä½“-å¤§å°: 11pxï¼›å­—ä½“-é‡é‡: å¤§èƒ†çš„; é¢œè‰²: #111; z-æŒ‡æ•°: 2; }
        .å……ç”µ .ç”µæ± -æ°´å¹³ { èƒŒæ™¯-é¢œè‰²:var(--ç”µæ± -ç»¿è‰²çš„); }
        .ä½çš„-ç”µæ±  .ç”µæ± -æ°´å¹³ { èƒŒæ™¯-é¢œè‰²:var(--ç”µæ± -çº¢è‰²); }

        /* çµåŠ¨å²›æ ·å¼ */
        .dynamic-island { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 140px; height: 40px; background-color: rgba(0, 0, 0, 0.8); border-radius: 25px; display: flex; justify-content: center; align-items: center; color: white; font-size: 16px; cursor: pointer; transition: all 0.3s ease; z-index: 1099; }
        .dynamic-island.expanded { width: 320px; height: 90px; border-radius: 45px; flex-direction: column; }
        .island-content { display: flex; align-items: center; }
        .island-icon { margin-right: 10px; font-size: 18px; }
        .expanded-content { display: none; text-align: center; margin-top: 8px; font-size: 14px; }
        .expanded .expanded-content { display: block; }
        .music-controls { display: none; flex-direction: column; align-items: center; width: 100%; padding: 10px; box-sizing: border-box; }
        .music-info { font-size: 14px; margin-bottom: 8px; }
        .music-progress { width: 90%; height: 4px; background-color: rgba(255,255,255,0.3); border-radius: 3px; margin-bottom: 8px; }
        .music-progress-bar { height: 100%; width: 50%; background-color: white; border-radius: 3px; }
        .music-buttons { display: flex; justify-content: center; align-items: center; }
        .music-btn { margin: 0 8px; font-size: 18px; cursor: pointer; }

        /* ä¸»å±å¹• & Dock (å·²æ›´æ–°) */
        .home-screen { flex: 1; padding-top: 40px; padding-bottom: 100px; overflow-y: auto; display: grid; grid-template-columns: repeat(4, 1fr); grid-auto-rows: min-content; gap: 20px; padding: 60px 20px 100px; }
        .app-icon { display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; }
        .app-icon-image { width: 60px; height: 60px; border-radius: 15px; display: flex; align-items: center; justify-content: center; margin-bottom: 8px; overflow: hidden; background-color: white; padding: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .app-icon-image img { width: 100%; height: 100%; object-fit: cover; border-radius: 11px; }
        .app-icon-name { font-size: 12px; color: var(--primary-text); text-align: center; }
        .dock { position: absolute; bottom: 0; left: 0; right: 0; height: 100px; background-color: rgba(240, 242, 245, 0.8); backdrop-filter: blur(12px); display: flex; justify-content: center; align-items: center; padding: 0 25px; }
        .dock-apps { display: flex; justify-content: space-around; width: 100%; }
        .dock-app { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .dock-app-icon { width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; overflow: hidden; background-color: white; padding: 4px; box-shadow: 0 1px 3px rgba(0,0,0,0.1); }
        .dock-app-icon img { width: 100%; height: 100%; object-fit: cover; border-radius: 8px; }

        /* åº•éƒ¨å¯¼èˆªæ  */
        .home-indicator { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); width: 120px; height: 5px; background-color: #000; border-radius: 3px; cursor: pointer; z-index: 1100; }
        
        /* åº”ç”¨å®¹å™¨ä¸é¡µé¢ */
        .app-container, .app-page { position: absolute; inset: 0; background-color: #f5f5f5; display: none; flex-direction: column; z-index: 1000; transform: translateX(100%); transition: transform 0.3s ease-in-out; }
        .app-container.active, .app-page.active { display: flex; transform: translateX(0); }
        .app-header { height: 50px; display: flex; align-items: center; padding: 0 15px; color: var(--primary-text); position: relative; background-color: #f7f7f7; border-bottom: 1px solid #ddd; flex-shrink: 0; }
        .app-back-btn { font-size: 22px; cursor: pointer; padding: 5px 10px; margin-left: -10px; }
        .app-title { flex: 1; text-align: center; font-weight: bold; font-size: 18px; position: absolute; left: 50%; transform: translateX(-50%); }
        .app-content { flex: 1; padding: 20px; overflow-y: auto; }

        /* è®¾ç½®èœå•æ ·å¼ (æ–°å¢) */
        .settings-menu { display: flex; flex-direction: column; gap: 10px; }
        .setting-item { background-color: white; padding: 15px; border-radius: 10px; display: flex; justify-content: space-between; align-items: center; cursor: pointer; font-size: 16px; }
        .setting-item:hover { background-color: #f0f0f0; }
        .setting-item::after { content: '>'; color: #ccc; }

        /* API è®¾ç½®æ ·å¼ */
        .api-settings { display: flex; flex-direction: column; gap: 15px; }
        .api-settings h2 { margin: 0 0 10px 0; font-size: 22px; }
        .api-form-group { display: flex; flex-direction: column; }
        .api-form-group label { margin-bottom: 5px; font-size: 14px; color: #555; }
        .api-form-group select, .api-form-group input { padding: 10px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; }
        .api-actions { display: flex; gap: 10px; margin-top: 10px; }
        .api-btn { flex: 1; padding: 12px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: background-color 0.2s; }
        .api-btn-primary { background-color: var(--qq-blue); color: white; }
        .api-btn-secondary { background-color: #e0e0e0; color: #333; }
        .api-status { margin-top: 15px; padding: 10px; border-radius: 8px; text-align: center; }
        .api-status.success { background-color: #d4edda; color: #155724; }
        .api-status.error { background-color: #f8d7da; color: #721c24; }
        .api-models-list { margin-top: 20px; border: 1px solid #ddd; border-radius: 8px; padding: 10px; max-height: 200px; overflow-y: auto; }
        .api-models-list h3 { margin: 0 0 10px 0; }
        .api-model-item { padding: 8px; border-bottom: 1px solid #eee; cursor: pointer; transition: background-color 0.2s; }
        .api-model-item:hover { background-color: #f5f5f5; }
        .api-model-item.selected { background-color: #e6f7ff; border-left: 3px solid var(--qq-blue); }
        .api-model-item:last-child { border-bottom: none; }
        .api-model-name { font-weight: bold; }
        .api-model-id { font-size: 12px; color: #777; }
        .current-model { margin-top: 15px; padding: 10px; background-color: #f0f8ff; border-radius: 8px; border: 1px solid #d0e8ff; }
        .current-model h4 { margin: 0 0 5px 0; font-size: 16px; }
        .current-model p { margin: 0; font-size: 14px; color: #555; }

        /* ä¸–ç•Œä¹¦èœå•æ ·å¼ */
        .worldbook-menu {
            display: flex;
            flex-direction: column;
            gap: 20px;
            margin-bottom: 20px;
        }
        
        .menu-section {
            background-color: white;
            border-radius: 12px;
            padding: 15px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        
        .menu-section h2 {
            margin: 0 0 15px 0;
            font-size: 18px;
            color: #333;
        }
        
        .menu-item {
            display: flex;
            align-items: center;
            padding: 12px 10px;
            border-radius: 8px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .menu-item:hover {
            background-color: #f5f5f5;
        }
        
        .menu-icon {
            font-size: 24px;
            margin-right: 12px;
            width: 30px;
            text-align: center;
        }
        
        .menu-text {
            font-size: 16px;
            color: #333;
        }
        
        /* ä¸–ç•Œä¹¦å†…å®¹åŒºåŸŸ */
        .worldbook-content {
            display: none;
            background-color: white;
            border-radius: 12px;
            padding: 20px;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }

        /* æ•°æ®ç®¡ç†æ ·å¼ */
        .data-management {
            display: flex;
            flex-direction: column;
            gap: 15px;
        }
        
        .data-actions {
            display: flex;
            flex-direction: column;
            gap: 10px;
        }
        
        .data-btn {
            padding: 12px;
            border: none;
            border-radius: 8px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        
        .data-btn-primary {
            background-color: var(--qq-blue);
            color: white;
        }
        
        .data-btn-secondary {
            background-color: #e0e0e0;
            color: #333;
        }
        
        .file-input {
            display: none;
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <!-- çŠ¶æ€æ  -->
            <div class="status-bar">
                <div class="left-items"><div class="time"></div><div class="dnd-icon">ğŸŒ™</div></div>
                <div class="right-items">
                    <div class="network-container"><div class="network-type">5G</div><div class="signal-bars"><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div></div></div>
                    <div class="battery-container"><div class="battery-icon"><div class="battery-level"></div><div class="battery-text"></div></div></div>
                </div>
            </div>
            
            <!-- çµåŠ¨å²› -->
            <div class="dynamic-island"><div class="island-content"><div class="island-icon">ã…‡ã……ã…‡</div><div>æ£®</div></div></div>

            <!-- ä¸»å±å¹• -->
            <div class="home-screen"></div>

            <!-- åº•éƒ¨å¯¼èˆªæ  -->
            <div class="dock"><div class="dock-apps"></div></div>
            
            <!-- HomeæŒ‡ç¤ºå™¨ -->
            <div class="home-indicator" onclick="returnToHome()"></div>
        
            <!-- åº”ç”¨å®¹å™¨ -->
            <div class="app-container" id="messageContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('messageContainer')">â†</div><div class="app-title">ä¿¡æ¯</div></div><div class="app-content"></div></div>
            <div class="app-container" id="forumContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('forumContainer')">â†</div><div class="app-title">è®ºå›å…«å¦</div></div><div class="app-content"></div></div>
            
            <!-- è®¾ç½®åº”ç”¨ (é‡æ„) -->
            <div class="app-container" id="settingsContainer">
                <div class="app-header"><div class="app-back-btn" onclick="closeApp('settingsContainer')">â†</div><div class="app-title">è®¾ç½®</div></div>
                <div class="app-content">
                    <div class="settings-menu">
                        <div class="setting-item" onclick="openAppPage('apiSettingsPage')">APIä¸æ¨¡å‹è®¾ç½®</div>
                        <div class="setting-item" onclick="openAppPage('dataManagementPage')">æ•°æ®ç®¡ç†</div>
                        <div class="setting-item">é€šç”¨</div>
                        <div class="setting-item">æ˜¾ç¤ºä¸äº®åº¦</div>
                        <div class="setting-item">å¢™çº¸</div>
                    </div>
                </div>
            </div>
            
            <!-- APIè®¾ç½®é¡µé¢ (æ–°å¢) -->
            <div class="app-page" id="apiSettingsPage">
                <div class="app-header"><div class="app-back-btn" onclick="closeAppPage('apiSettingsPage')">â†</div><div class="app-title">APIè®¾ç½®</div></div>
                <div class="app-content">
                    <div class="api-settings">
                        <!-- å½“å‰æ¨¡å‹æ˜¾ç¤º -->
                        <div class="current-model" id="currentModelDisplay" style="display: none;">
                            <h4>å½“å‰é€‰å®šæ¨¡å‹</h4>
                            <p id="currentModelName">æ— </p>
                        </div>
                        
                        <div class="api-form-group">
                            <label for="apiProvider">APIæ¥å£æ¨¡å‹ä¾›åº”å•†</label>
                            <select id="apiProvider">
                                <option value="openai">OpenAI</option>
                                <option value="anthropic">Anthropic</option>
                                <option value="google">Google Gemini</option>
                                <option value="custom">è‡ªå®šä¹‰</option>
                            </select>
                        </div>
                        <div class="api-form-group">
                            <label for="apiUrl">å¡«å†™URLé“¾æ¥</label>
                            <input type="url" id="apiUrl" placeholder="https://api.openai.com">
                        </div>
                        <div class="api-form-group">
                            <label for="apiKey">è¾“å…¥APIå¯†é’¥</label>
                            <input type="password" id="apiKey" placeholder="è¾“å…¥æ‚¨çš„APIå¯†é’¥">
                        </div>
                        <div class="api-actions">
                            <button class="api-btn api-btn-primary" onclick="fetchModels()">è·å–æ¨¡å‹</button>
                            <button class="api-btn api-btn-secondary" onclick="testApiConnection()">æµ‹è¯•æ¨¡å‹</button>
                        </div>
                        <div class="api-status" id="apiStatus"></div>
                        <div class="api-models-list" id="apiModelsList" style="display: none;"></div>
                        <div class="api-actions" style="margin-top: 20px;">
                            <button class="api-btn api-btn-primary" onclick="saveApiSettings()">ä¿å­˜è®¾ç½®</button>
                        </div>
                    </div>
                </div>
            </div>

            <!-- æ•°æ®ç®¡ç†é¡µé¢ (æ–°å¢) -->
            <div class="app-page" id="dataManagementPage">
                <div class="app-header"><div class="app-back-btn" onclick="closeAppPage('dataManagementPage')">â†</div><div class="app-title">æ•°æ®ç®¡ç†</div></div>
                <div class="app-content">
                    <div class="data-management">
                        <h2>æ•°æ®å¤‡ä»½ä¸æ¢å¤</h2>
                        <div class="data-actions">
                            <button class="data-btn data-btn-primary" onclick="exportAllData()">å¯¼å‡ºå…¨éƒ¨æ•°æ®</button>
                            <button class="data-btn data-btn-secondary" onclick="document.getElementById('importFile').click()">å¯¼å…¥æ•°æ®</button>
                            <input type="file" id="importFile" class="file-input" accept=".json" onchange="importData(this)">
                        </div>
                    </div>
                </div>
            </div>

            <div class="app-container" id="phoneContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('phoneContainer')">â†</div><div class="app-title">ç”µè¯</div></div><div class="app-content"></div></div>
            <div class="app-container" id="photosContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('photosContainer')">â†</div><div class="app-title">å¤‡å¿˜å½•</div></div><div class="app-content"></div></div>
            
            <!-- ä¸–ç•Œä¹¦åº”ç”¨ (æ›´æ–°) -->
// -ç³»ç»Ÿç”¨æˆ·ç•Œé¢åŠŸèƒ½-
å‡½æ•°updateTime() {
const now = new Date()ï¼›
const hours = now . get hours()ï¼›
const minutes = now.getMinutes()ã€‚toString()ã€‚padStart(2ï¼Œ' 0 ')ï¼›
const ampm =å°æ—¶> = 12ï¼Ÿ'ä¸‹åˆ' : 'ä¸Šåˆï¼›
                    <div class="worldbook-menu">
                        <!-- ä¸–ç•Œä¹¦åŠŸèƒ½èœå• -->
                        <div class="menu-section">
                            <h2>ä¸–ç•Œä¹¦ç®¡ç†</h2>
                            <div class="menu-item" onclick="openWorldbookTab('create')">
                                <div class="menu-icon">ğŸ“–</div>
                                <div class="menu-text">åˆ›å»ºæ–°ä¸–ç•Œä¹¦</div>
                            </div>
                            <div class="menu-item" onclick="openWorldbookTab('library')">
                                <div class="menu-icon">ğŸ“š</div>
                                <div class="menu-text">ä¸–ç•Œä¹¦åº“</div>
                            </div>
                            <div class="menu-item" onclick="openWorldbookTab('import')">
                                <div class="menu-icon">â¬‡ï¸</div>
                                <div class="menu-text">å¯¼å…¥ä¸–ç•Œä¹¦</div>
                            </div>
                            <div class="menu-item" onclick="openWorldbookTab('export')">
                                <div class="menu-icon">â¬†ï¸</div>
                                <div class="menu-text">å¯¼å‡ºä¸–ç•Œä¹¦</div>
                            </div>
                        </div>

                        <!-- ä¸–ç•Œä¹¦ç¼–è¾‘åŠŸèƒ½ -->
                        <div class="menu-section">
                            <h2>ç¼–è¾‘å·¥å…·</h2>
                            <div class="menu-item" onclick="openWorldbookTab('characters')">
                                <div class="menu-icon">ğŸ‘¥</div>
                                <div class="menu-text">è§’è‰²ç®¡ç†</div>
                            </div>
                            <div class="menu-item" onclick="openWorldbookTab('locations')">
                                <div class="menu-icon">ğŸ—ºï¸</div>
                                <div class="menu-text">åœ°ç‚¹ç®¡ç†</div>
                            </div>
                            <div class="menu-item" onclick="openWorldbookTab('timeline')">
                                <div class="menu-icon">â³</div>
                                <div class="menu-text">æ—¶é—´çº¿</div>
                            </div>
                            <div class="menu-item" onclick="openWorldbookTab('relations')">
                                <div class="menu-icon">ğŸ”—</div>
                                <div class="menu-text">å…³ç³»å›¾</div>
                            </div>
                        </div>

                        <!-- ä¸–ç•Œä¹¦è®¾ç½® -->
                        <div class="menu-section">
                            <h2>è®¾ç½®</h2>
                            <div class="menu-item" onclick="openWorldbookTab('settings')">
                                <div class="menu-icon">âš™ï¸</div>
                                <div class="menu-text">ä¸–ç•Œä¹¦è®¾ç½®</div>
                            </div>
                            <div class="menu-item" onclick="openWorldbookTab('templates')">
                                <div class="menu-icon">ğŸ“</div>
                                <div class="menu-text">æ¨¡æ¿ç®¡ç†</div>
                            </div>
                        </div>
                    </div>

                    <!-- ä¸–ç•Œä¹¦å†…å®¹åŒºåŸŸ -->
                    <åŠ¨æ€çš„class=å²› id="worldbookContent">
                        <!-- åŠ¨æ€åŠ è½½çš„å†…å®¹å°†æ˜¾ç¤ºåœ¨è¿™é‡Œ -->
                    </å²›>
                </div>
            </æ‰©å¤§>

            <éŸ³ä¹class=æ§åˆ¶ id="qqContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('qqContainer')">â†</div><div class="app-title">QQ</div></div><div class="app-content"></div></div>
            <éŸ³ä¹class=ä¿¡æ¯ id="musicContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('musicContainer')">â†</div><div class="app-title">éŸ³ä¹</div></div><div class="app-content"></div></div>
            <éŸ³ä¹class="app-container" id="themeContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('themeContainer')">â†</div><div class="app-title">ç¾åŒ–</div></div><div class="app-content"></div></div>
            <div class="app-container" id="jdContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('jdContainer')">â†</div><div class="app-title">ç½‘è´­</div></div><div class="app-content"></div></div>
            <éŸ³ä¹class=æŒ‰é’® id="meituanContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('meituanContainer')">â†</div><div class="app-title">å¤–å–</div></div><div class="app-content"></div></div>
        </éŸ³ä¹>
    </div>
    
    <script>
        // --- SYSTEM DATA ---
        let systemData = {
            battery: { level: 80, isCharging: false },
            settings: { 
                apiProvider: 'openai', 
                apiKey: '', 
                apiUrl: '',
                selectedModel: null
            },
            worldbooks: {
                library: [],
                current: null
            }
        };

        // --- SYSTEM UI FUNCTIONS ---
        function updateTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'ä¸‹åˆ' : 'ä¸Šåˆ';
            const displayHours = hours % 12 || 12;
            document.querySelector('.time').textContent = `${ampm}${displayHours}:${minutes}`;
        }

        function updateBattery() {
            const batteryIcon = document.querySelector('.battery-icon');
            const batteryLevelEl = document.querySelector('.battery-level');
            const batteryText = document.querySelector('.battery-text');
            if (!systemData.battery.isCharging && systemData.battery.level > 0) systemData.battery.level -= 0.05;
            batteryLevelEl.style.width = `${systemData.battery.level}%`;
            batteryText.textContent = Math.round(systemData.battery.level);
            batteryIcon.classList.toggle('low-battery', !systemData.battery.isCharging && systemData.battery.level <= 20);
        }

        // --- APP NAVIGATION ---
        function openApp(appId) {
            const appContainer = document.getElementById(appId);
            if(appContainer) appContainer.classList.add('active');
        }

        function closeApp(appId) {
            const appContainer = document.getElementById(appId);
            if(appContainer) appContainer.classList.remove('active');
        }

        function openAppPage(pageId) {
            const page = document.getElementById(pageId);
            if(page) page.classList.add('active');
        }

        function closeAppPage(pageId) {
            const page = document.getElementById(pageId);
            if(page) page.classList.remove('active');
        }

        function returnToHome() {
            document.querySelectorAll('.app-container.active, .app-page.active').forEach(el => el.classList.remove('active'));
        }

        // --- API FUNCTIONS (REAL IMPLEMENTATION) ---
        async function fetchModels() {
            const provider = document.getElementById('apiProvider').value;
            let apiUrl = document.getElementById('apiUrl').value.trim();
            const apiKey = document.getElementById('apiKey').value.trim();
            const statusEl = document.getElementById('apiStatus');
            const modelsListEl = document.getElementById('apiModelsList');
            
            modelsListEl.style.display = 'none';
            modelsListEl.innerHTML = '';
            if (!apiUrl || !apiKey) {
                statusEl.textContent = 'é”™è¯¯ï¼šè¯·å¡«å†™å®Œæ•´çš„API URLå’Œå¯†é’¥ã€‚';
                statusEl.className = 'api-status error';
                return;
            }
            
            statusEl.textContent = 'æ­£åœ¨è·å–æ¨¡å‹åˆ—è¡¨...';
            statusEl.className = 'api-status';

            // æ™ºèƒ½å¤„ç†URL
            if (apiUrl.endsWith('/')) apiUrl = apiUrl.slice(0, -1);
            if (provider === 'openai' && !apiUrl.endsWith('/v1')) apiUrl += '/v1';

            let requestUrl = `${apiUrl}/models`;
            let headers = { 'Content-Type': 'application/json' };

            // æ ¹æ®ä¾›åº”å•†è®¾ç½®ä¸åŒçš„è®¤è¯å¤´
            if (provider === 'openai' || provider === 'custom') {
                headers['Authorization'] = `Bearer ${apiKey}`;
            } else if (provider === 'anthropic') {
                headers['x-api-key'] = apiKey;
                headers['anthropic-version'] = '2023-06-01'; // Anthropicéœ€è¦ç‰ˆæœ¬å¤´
            } else if (provider === 'google') {
                requestUrl = `${apiUrl}/v1beta/models?key=${apiKey}`;
                headers = {}; // Google Gemini Keyåœ¨URLä¸­
            }

            try {
                const response = await fetch(requestUrl, { headers });
                if (!response.ok) {
                    const errorData = await response.text();
                    throw new Error(`è¯·æ±‚å¤±è´¥ (${response.status}): ${errorData}`);
                }
                const data = await response.json();
                
                let models = [];
                if (provider === 'openai' || provider === 'custom') models = data.data || [];
                else if (provider === 'anthropic') models = data.data || []; // Anthropicæ–°ç‰ˆAPIä¹Ÿæ˜¯data
                else if (provider === 'google') models = data.models || [];

                if (models.length > 0) {
                    modelsListEl.innerHTML = '<h3>å¯ç”¨æ¨¡å‹åˆ—è¡¨ (ç‚¹å‡»é€‰æ‹©)</h3>';
                    models.forEach(model => {
                        const modelId = model.id || model.name;
                        const modelName = model.id || model.name || model.displayName;
                        const modelEl = document.createElement('div');
                        modelEl.className = 'api-model-item';
                        modelEl.dataset.modelId = modelId;
                        modelEl.dataset.modelName = modelName;
                        modelEl.innerHTML = `<div class="api-model-name">${modelName.split('/').pop()}</div><div class="api-model-id">ID: ${modelId}</div>`;
                        
                        // æ·»åŠ ç‚¹å‡»äº‹ä»¶ä»¥é€‰æ‹©æ¨¡å‹
                        modelEl.addEventListener('click', () => {
                            // ç§»é™¤ä¹‹å‰çš„é€‰æ‹©
                            document.querySelectorAll('.api-model-item.selected').forEach(item => {
                                item.classList.remove('selected');
                            });
                            
                            // æ ‡è®°å½“å‰é€‰æ‹©
                            modelEl.classList.add('selected');
                            
                            // ä¿å­˜åˆ°ç³»ç»Ÿè®¾ç½®
                            systemData.settings.selectedModel = {
                                id: modelId,
                                name: modelName
                            };
                            
                            // æ›´æ–°å½“å‰æ¨¡å‹æ˜¾ç¤º
                            updateCurrentModelDisplay();
                        });
                        
                        modelsListEl.appendChild(modelEl);
                    });
                    modelsListEl.style.display = 'block';
                    statusEl.textContent = `æˆåŠŸè·å– ${models.length} ä¸ªæ¨¡å‹ï¼Œè¯·ç‚¹å‡»é€‰æ‹©ä¸€ä¸ªæ¨¡å‹`;
                    statusEl.className = 'api-status success';
                } else {
                    statusEl.textContent = 'è­¦å‘Šï¼šAPIæˆåŠŸå“åº”ï¼Œä½†æœªæ‰¾åˆ°å¯ç”¨æ¨¡å‹ã€‚';
                    statusEl.className = 'api-status error';
                }
            } catch (error) {
                statusEl.textContent = `è·å–æ¨¡å‹å¤±è´¥: ${error.message}`;
                statusEl.className = 'api-status error';
                console.error('è·å–æ¨¡å‹å¤±è´¥è¯¦æƒ…:', error);
            }
        }

        // æ›´æ–°å½“å‰æ¨¡å‹æ˜¾ç¤º
        function updateCurrentModelDisplay() {
            const currentModelDisplay = document.getElementById('currentModelDisplay');
            const currentModelName = document.getElementById('currentModelName');
            
            if (systemData.settings.selectedModel) {
                currentModelName.textContent = systemData.settings.selectedModel.name;
                currentModelDisplay.style.display = 'block';
            } else {
                currentModelDisplay.style.display = 'none';
            }
        }

        async function testApiConnection() {
            const statusEl = document.getElementById('apiStatus');
            statusEl.textContent = 'æ­£åœ¨æµ‹è¯•è¿æ¥...';
            statusEl.className = 'api-status';
            await fetchModels(); // å¤ç”¨è·å–æ¨¡å‹çš„é€»è¾‘æ¥æµ‹è¯•
            if (statusEl.classList.contains('success')) {
                statusEl.textContent = 'APIè¿æ¥æµ‹è¯•æˆåŠŸï¼';
            }
        }

        function saveApiSettings() {
            systemData.settings.apiProvider = document.getElementById('apiProvider').value;
            systemData.settings.apiUrl = document.getElementById('apiUrl').value.trim();
            systemData.settings.apiKey = document.getElementById('apiKey').value.trim();
            
            const statusEl = document.getElementById('apiStatus');
            
            // æ£€æŸ¥æ˜¯å¦å·²é€‰æ‹©æ¨¡å‹
            if (systemData.settings.selectedModel) {
                statusEl.textContent = `APIè®¾ç½®å·²ä¿å­˜ï¼Œå·²é€‰æ‹©æ¨¡å‹: ${systemData.settings.selectedModel.name}`;
            } else {
                statusEl.textContent = 'APIè®¾ç½®å·²ä¿å­˜ï¼Œä½†æœªé€‰æ‹©æ¨¡å‹ã€‚';
            }
            
            statusEl.className = 'api-status success';
            
            // æ›´æ–°å½“å‰æ¨¡å‹æ˜¾ç¤º
            updateCurrentModelDisplay();
            
            // ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨
            saveSystemData();
        }

        // --- ä¸–ç•Œä¹¦åŠŸèƒ½ ---
        function openWorldbookTab(tabName) {
            // éšè—æ‰€æœ‰å†…å®¹åŒºåŸŸ
            document.querySelectorAll('.worldbook-content').forEach(el => {
                el.style.display = 'none';
            });
            
            // æ˜¾ç¤ºé€‰ä¸­çš„å†…å®¹åŒºåŸŸ
const contentEl = document . getelementbyid(' world book content ')ï¼›const contentEl = document.getElementById('worldbookContent');
contentel . style . display = ' block 'ï¼›style.display = 'block';
            
// æ ¹æ®æ ‡ç­¾ååŠ è½½ä¸åŒå†…å®¹// æ ¹æ®tabNameåŠ è½½ä¸åŒå†…å®¹
å¼€å…³(æ ‡ç­¾å){switch(tabName) {
æ¡ˆä¾‹â€œåˆ›å»ºâ€:case 'create':
contentEl.innerHTML =innerHTML = `
< h3 >åˆ›å»ºæ–°ä¸–ç•Œä¹¦</h3 >h3>åˆ›å»ºæ–°ä¸–ç•Œä¹¦</h3>
< div class="form-group " >div class="form-group">
<æ ‡ç­¾>ä¸–ç•Œä¹¦åç§°</label >label>ä¸–ç•Œä¹¦åç§°</label>
< input type = " text " id = " world book name " placeholder = "è¾“å…¥ä¸–ç•Œä¹¦åç§°">input type="text" id="worldbookName" placeholder="è¾“å…¥ä¸–ç•Œä¹¦åç§°">
</div >div>
< div class="form-group " >div class="form-group">
<æ ‡ç­¾>æè¿°</label >label>æè¿°</label>
< textarea id = " worldbookDesc " placeholder = "è¾“å…¥ä¸–ç•Œä¹¦æè¿°" > </textarea >textarea id="worldbookDesc" placeholder="è¾“å…¥ä¸–ç•Œä¹¦æè¿°"></textarea>
</div >div>
                        <button class="btn-primary" onclick="createNewWorldbook()">åˆ›å»º</button>
                    `;
                    break;
                    
                case 'library':
                    contentEl.innerHTML = `
                        <h3>ä¸–ç•Œä¹¦åº“</h3>
                        <div class="worldbook-list" id="worldbookList">
                            <!-- ä¸–ç•Œä¹¦åˆ—è¡¨å°†é€šè¿‡JSåŠ¨æ€åŠ è½½ -->
                        </div>
                    `;
                    loadWorldbookLibrary();
                    break;
                    
                case 'import':
                    contentEl.innerHTML = `
                        <h3>å¯¼å…¥ä¸–ç•Œä¹¦</h3>
                        <p>ä»æ–‡ä»¶å¯¼å…¥ä¸–ç•Œä¹¦æ•°æ®</p>
                        <button class="btn-primary" onclick="document.getElementById('worldbookImportFile').click()">é€‰æ‹©æ–‡ä»¶</button>
                        <input type="file" id="worldbookImportFile" class="file-input" accept=".json" onchange="importWorldbook(this)">
                    `;
                    break;
                    
                case 'export':
                    contentEl.innerHTML = `
                        <h3>å¯¼å‡ºä¸–ç•Œä¹¦</h3>
                        <p>å°†å½“å‰ä¸–ç•Œä¹¦å¯¼å‡ºä¸ºæ–‡ä»¶</p>
                        <button class="btn-primary" onclick="exportCurrentWorldbook()">å¯¼å‡º</button>
                    `;
                    break;
                    
                // å…¶ä»–tabçš„å®ç°ç±»ä¼¼...
            }
        }
        
        function createNewWorldbook() {
            const name = document.getElementById('worldbookName').value;
            const desc = document.getElementById('worldbookDesc').value;
            
            if (!name) {
                alert('è¯·è¾“å…¥ä¸–ç•Œä¹¦åç§°');
                return;
            }
            
            const newWorldbook = {
                id: Date.now().toString(),
                name: name,
                description: desc,
                createdAt: new Date().toISOString(),
                characters: [],
                locations: [],
                timeline: []
            };
            
            systemData.worldbooks.library.push(newWorldbook);
            systemData.worldbooks.current = newWorldbook.id;
            
            // ä¿å­˜æ•°æ®
            saveSystemData();
            
            alert(`ä¸–ç•Œä¹¦ "${name}" åˆ›å»ºæˆåŠŸï¼`);
        }
        
        function loadWorldbookLibrary() {
            const listEl = document.getElementById('worldbookList');
            
            if (systemData.worldbooks.library.length === 0) {
                listEl.innerHTML = '<p>æš‚æ— ä¸–ç•Œä¹¦ï¼Œè¯·å…ˆåˆ›å»ºä¸€ä¸ª</p>';
                return;
            }
            
            listEl.innerHTML = '';
            
            systemData.worldbooks.library.forEach(worldbook => {
                const itemEl = document.createElement('div');
                itemEl.className = 'worldbook-item';
                itemEl.innerHTML = `
                    <div class="worldbook-title">${worldbook.name}</div>
                    <div class="worldbook-desc">${worldbook.description || 'æ— æè¿°'}</div>
                    <div class="worldbook-actions">
                        <button onclick="openWorldbook('${worldbook.id}')">æ‰“å¼€</button>
                        <button onclick="editWorldbook('${worldbook.id}')">ç¼–è¾‘</button>
                    </div>
                `;
                listEl.appendChild(itemEl);
            });
        }
        
        function openWorldbook(id) {
            const worldbook = systemData.worldbooks.library.find(wb => wb.id === id);
            if (!worldbook) return;
            
            systemData.worldbooks.current = id;
            
            // æ›´æ–°UIæ˜¾ç¤ºå½“å‰ä¸–ç•Œä¹¦
            document.getElementById('worldbookContent').innerHTML = `
                <h3>${worldbook.name}</h3>
                <p>${worldbook.description || 'æ— æè¿°'}</p>
                <div class="worldbook-stats">
                    <div>è§’è‰²: ${worldbook.characters.length}</div>
                    <div>åœ°ç‚¹: ${worldbook.locations.length}</div>
                    <div>äº‹ä»¶: ${worldbook.timeline.length}</div>
                </div>
            `;
        }
        
        function editWorldbook(id) {
            const worldbook = systemData.worldbooks.library.find(wb => wb.id === id);
            if (!worldbook) return;
            
            document.getElementById('worldbookContent').innerHTML = `
                <h3>ç¼–è¾‘ä¸–ç•Œä¹¦: ${worldbook.name}</h3>
                <div class="form-group">
                    <label>åç§°</label>
                    <input type="text" id="editWorldbookName" value="${worldbook.name}">
                </div>
                <div class="form-group">
                    <label>æè¿°</label>
                    <textarea id="editWorldbookDesc">${worldbook.description || ''}</textarea>
                </div>
                <button class="btn-primary" onclick="saveWorldbookChanges('${id}')">ä¿å­˜</button>
            `;
        }
        
        function saveWorldbookChanges(id) {
            const worldbook = systemData.worldbooks.library.find(wb => wb.id === id);
            if (!worldbook) return;
            
            const newName = document.getElementById('editWorldbookName').value;
            const newDesc = document.getElementById('editWorldbookDesc').value;
            
            if (!newName) {
                alert('ä¸–ç•Œä¹¦åç§°ä¸èƒ½ä¸ºç©º');
                return;
            }
            
            worldbook.name = newName;
            worldbook.description = newDesc;
            
            saveSystemData();
            
            alert('ä¸–ç•Œä¹¦ä¿®æ”¹å·²ä¿å­˜');
            loadWorldbookLibrary();
        }
        
        function importWorldbook(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedData = JSON.parse(e.target.result);
                    
                    // éªŒè¯æ•°æ®æ ¼å¼
                    if (!importedData.id || !importedData.name) {
                        throw new Error('å¯¼å…¥çš„æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®');
                    }
                    
                    // æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒIDçš„ä¸–ç•Œä¹¦
                    const existingIndex = systemData.worldbooks.library.findIndex(wb => wb.id === importedData.id);
                    
                    if (existingIndex >= 0) {
                        if (confirm('å·²å­˜åœ¨ç›¸åŒIDçš„ä¸–ç•Œä¹¦ï¼Œæ˜¯å¦è¦†ç›–ï¼Ÿ')) {
                            systemData.worldbooks.library[existingIndex] = importedData;
                        }
                    } else {
                        systemData.worldbooks.library.push(importedData);
                    }
                    
                    saveSystemData();
                    loadWorldbookLibrary();
                    
                    alert('ä¸–ç•Œä¹¦å¯¼å…¥æˆåŠŸï¼');
                } catch (error) {
                    alert(`å¯¼å…¥å¤±è´¥: ${error.message}`);
                    console.error('å¯¼å…¥ä¸–ç•Œä¹¦é”™è¯¯:', error);
                }
                
                // é‡ç½®æ–‡ä»¶è¾“å…¥ï¼Œå…è®¸é‡å¤å¯¼å…¥åŒä¸€æ–‡ä»¶
                input.value = '';
            };
            reader.onerror = function() {
                alert('è¯»å–æ–‡ä»¶å¤±è´¥');
            };
            reader.readAsText(file);
        }
        
        function exportCurrentWorldbook() {
            if (!systemData.worldbooks.current) {
                alert('è¯·å…ˆæ‰“å¼€ä¸€ä¸ªä¸–ç•Œä¹¦');
                return;
            }
            
const world book = system data . world books . library . find(WB = > WB . id = = = system data . world books . current)ï¼›
å¦‚æœ(ï¼worldbook)è¿”å›ï¼›
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
const dataStr = JSON . stringify(world bookï¼Œnullï¼Œ2)ï¼›
const data uri = ' data:application/JSONï¼›charset=utf-8ï¼Œ'+encodeURIComponent(dataStr)ï¼›
å¸¸é‡å¯¼å‡ºæ–‡ä»¶å= `ä¸–ç•Œä¹¦_ $ { worldbook.name } _ $ {æ–°æ—¥æœŸ()ã€‚toISOString()ã€‚slice(0ï¼Œ10)} . JSON `ï¼›
            
            // è§¦å‘ä¸‹è½½
const link element = document . createelement(' a ')ï¼›
linkElement.setAttribute('href 'ï¼Œdata uri)ï¼›
link element . set attribute(' download 'ï¼Œexport filename)ï¼›
link element . click()ï¼›
        }

        // --- æ•°æ®ç®¡ç†åŠŸèƒ½ ---
å‡½æ•°exportAllData() {
            // åˆ›å»ºåŒ…å«æ‰€æœ‰ç³»ç»Ÿæ•°æ®çš„å¯¹è±¡
            const exportData = {
                systemData: systemData,
                timestamp: new Date().toISOString()
            };
            
            // è½¬æ¢ä¸ºJSONå­—ç¬¦ä¸²
            const dataStr = JSON.stringify(exportData, null, 2);
            
            // åˆ›å»ºä¸‹è½½é“¾æ¥
            const dataUri = 'data:application/json;charset=utf-8,'+ encodeURIComponent(dataStr);
            const exportFileName = `æ£®æ‰‹æœºæ•°æ®å¤‡ä»½_${new Date().toISOString().slice(0, 10)}.json`;
            
            // è§¦å‘ä¸‹è½½
            const linkElement = document.createElement('a');
            linkElement.setAttribute('href', dataUri);
            linkElement.setAttribute('download', exportFileName);
            linkElement.click();
            
            // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
            showAlert('æ•°æ®å¯¼å‡ºæˆåŠŸï¼');
        }

        function importData(input) {
            const file = input.files[0];
            if (!file) return;
            
            const reader = new FileReader();
            reader.onload = function(e) {
                try {
                    const importedData = JSON.parse(e.target.result);
                    
                    // éªŒè¯æ•°æ®æ ¼å¼
                    if (!importedData.systemData || !importedData.systemData.settings) {
                        throw new Error('å¯¼å…¥çš„æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®');
                    }
                    
                    // æ˜¾ç¤ºç¡®è®¤å¯¹è¯æ¡†
                    if (confirm('ç¡®å®šè¦å¯¼å…¥æ•°æ®å—ï¼Ÿè¿™å°†è¦†ç›–å½“å‰æ‰€æœ‰è®¾ç½®ã€‚')) {
                        // å¯¼å…¥æ•°æ®
                        systemData = importedData.systemData;
                        
                        // æ›´æ–°UI
                        updateUIFromSystemData();
                        
                        // æ˜¾ç¤ºæˆåŠŸæ¶ˆæ¯
                        showAlert('æ•°æ®å¯¼å…¥æˆåŠŸï¼');
                    }
                    
                    // é‡ç½®æ–‡ä»¶è¾“å…¥ï¼Œå…è®¸é‡å¤å¯¼å…¥åŒä¸€æ–‡ä»¶
                    input.value = '';
                } catch (error) {
                    showAlert(`å¯¼å…¥å¤±è´¥: ${error.message}`);
                    console.error('å¯¼å…¥æ•°æ®é”™è¯¯:', error);
                }
            };
            reader.onerror = function() {
                showAlert('è¯»å–æ–‡ä»¶å¤±è´¥');
            };
            reader.readAsText(file);
        }

        function updateUIFromSystemData() {
            // æ›´æ–°APIè®¾ç½®è¡¨å•
            document.getElementById('apiProvider').value = systemData.settings.apiProvider;
document . getelementbyid(' API URL ')ã€‚value = system data . settings . API URLï¼›
document . getelementbyid(' API key ')ã€‚value = system data . settings . API keyï¼›
            
            // æ›´æ–°å½“å‰æ¨¡å‹æ˜¾ç¤º
updateCurrentModelDisplay()ï¼›
        }

å‡½æ•°æ˜¾ç¤ºè­¦æŠ¥(æ¶ˆæ¯){
const status El = document . getelementbyid(' API status ')ï¼›
status El . text content = messageï¼›
status El . class name = ' API-çŠ¶æ€æˆåŠŸ'ï¼›
setTimeout(() => {
if(status El . text content = = = message){
çŠ¶æ€Elã€‚æ–‡æœ¬å†…å®¹= " "ï¼›
çŠ¶æ€Elã€‚class name = ' API-status 'ï¼›
                }
            }, 3000);
        }

        // ä¿å­˜ç³»ç»Ÿæ•°æ®åˆ°æœ¬åœ°å­˜å‚¨
å‡½æ•°saveSystemData() {
å°è¯•{
local storage . setitem(' system data 'ï¼ŒJSON . stringify(system data))ï¼›
} catch (e) {
console.log('æ— æ³•ä¿å­˜åˆ°æœ¬åœ°å­˜å‚¨:â€™ï¼Œe)ï¼›
            }
        }

// -åˆå§‹åŒ–-
document . addevent listener(' DOMContentLoaded 'ï¼Œ()=> {
const appData = [
{ id:'æ¶ˆæ¯å®¹å™¨'ï¼Œå›¾æ ‡:' https://TCã€‚z . wiki/è‡ªåŠ¨ä¸Šä¼ /f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/YOpv/1186 x 1080/Image _ 1761364260618ã€‚å·´å¸ƒäºšæ–°å‡ å†…äºš'ï¼Œåç§°:'ä¿¡æ¯' },
{ id: 'forumContainer 'ï¼Œå›¾æ ‡: ' https://TC . z . wiki/auto upload/f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 21/KpZf/1079 x 1083/Image _ 1760785735649 . png 'ï¼Œåç§°:'è®ºå›å…«å¦' },
{ id: 'settingsContainer 'ï¼Œå›¾æ ‡: ' https://TC . z . wiki/auto upload/f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/DWyy/1015 x861/Image _ 1761364260122 . png 'ï¼Œåç§°:'è®¾ç½®' },
{ id:'phoneContainer',Icon:' https://TC ã€‚Zçš„ã€‚wiki/auto upload/f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/7 Nye/1208 x 1072/Image _ 1761364261254 .png ', Name: 'Telefon' },
{ id:'å›¾ç‰‡å®¹å™¨'ï¼Œå›¾æ ‡:' https://TCã€‚z . wiki/è‡ªåŠ¨ä¸Šä¼ /f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/OJ0P/920 x 1024/Image _ 1760785734981ã€‚å·´å¸ƒäºšæ–°å‡ å†…äºš'ï¼Œåç§°:'å¤‡å¿˜å½•' },
{ id:' book container 'ï¼Œå›¾æ ‡:' https://TCã€‚z . wiki/è‡ªåŠ¨ä¸Šä¼ /f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 21/yD6d/742 x 1024/Image _ 1760785734886ã€‚å·´å¸ƒäºšæ–°å‡ å†…äºš'ï¼Œåç§°:'ä¸–ç•Œä¹¦' },
{ id: 'qqContainer 'ï¼Œå›¾æ ‡:' https://TC . z . wiki/auto upload/f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/qu4r/527 x693/Image _ 1761364259317 . png 'ï¼Œåç§°:' QQ' }ï¼Œ
{ id:'éŸ³ä¹å®¹å™¨'ï¼Œå›¾æ ‡:' https://TCã€‚z . wiki/è‡ªåŠ¨ä¸Šä¼ /f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/C1 S1/863 x793/Image _ 1761364257242ã€‚å·´å¸ƒäºšæ–°å‡ å†…äºš'ï¼Œåç§°:'éŸ³ä¹' },
{ id:'ä¸»é¢˜å®¹å™¨'ï¼Œå›¾æ ‡:' https://TCã€‚z . wiki/è‡ªåŠ¨ä¸Šä¼ /f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/wdgd/643 x630/Image _ 1761364259392ã€‚å·´å¸ƒäºšæ–°å‡ å†…äºš'ï¼Œåç§°:'ç¾åŒ–' },
{ id: 'jdContainer 'ï¼Œå›¾æ ‡:' https://TC .z . wiki/è‡ªåŠ¨ä¸Šä¼ /f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/h86b/640 x594/Image _ 1761364260149 .å·´å¸ƒäºšæ–°å‡ å†…äºš,åç§°:'ç½‘è´­' },
{ id:'ç¾å›¢å®¹å™¨,å›¾æ ‡:' https://TC .z . wiki/è‡ªåŠ¨ä¸Šä¼ /f/_ dUEGnKEJQzmc-cklsxn 5 nio _ oy VX 7 migxfbdmders/2025 10 25/L6Oz/985 x 1112/Image _ 1761364257742 .å·´å¸ƒäºšæ–°å‡ å†…äºš,åç§°:'å¤–å–' },
            ];
            
const home screen = document . query selector('ã€‚ä¸»å±å¹•â€™)ï¼›
æŠ›å‡ºæ–°é”™è¯¯('å¯¼å…¥çš„æ–‡ä»¶æ ¼å¼ä¸æ­£ç¡®');
const dockAppIds =[' phone container 'ï¼Œ' messageContainer 'ï¼Œ' photosContainer 'ï¼Œ' settings container ']ï¼›

// æ£€æŸ¥æ˜¯å¦å·²å­˜åœ¨ç›¸åŒèº«ä»½è¯æ˜çš„ä¸–ç•Œä¹¦
constç°æœ‰ç´¢å¼•=ç³»ç»Ÿæ•°æ®ã€‚ä¸–ç•Œå›¾ä¹¦ã€‚å›¾ä¹¦é¦†ã€‚æŸ¥æ‰¾ç´¢å¼•(WB = > WBã€‚id = = =å¯¼å…¥çš„æ•°æ®ã€‚id)ï¼›
const container = isDockAppï¼ŸdockApps:ä¸»å±ï¼›
å¦‚æœ(ç°æœ‰ç´¢å¼•> = 0) {
å¦‚æœ(ç¡®è®¤('å·²å­˜åœ¨ç›¸åŒèº«ä»½è¯æ˜çš„ä¸–ç•Œä¹¦,æ˜¯å¦è¦†ç›–?')) {
ç³»ç»Ÿæ•°æ®ã€‚ä¸–ç•Œå›¾ä¹¦ã€‚åº“[ç°æœ‰ç´¢å¼•]=å¯¼å…¥çš„æ•°æ®ï¼›
el.innerHTML =
}å¦åˆ™{
ç³»ç»Ÿæ•°æ®ã€‚ä¸–ç•Œå›¾ä¹¦ã€‚å›¾ä¹¦é¦†ã€‚æ¨é€(å¯¼å…¥æ•°æ®)ï¼›
/div>
worldbooks: {
saveSystemData()ï¼›
å½“å‰:ç©º
            });

} catch(é”™è¯¯){
è­¦æŠ¥(` 1å¯¼å…¥å¤±è´¥:$ {é”™è¯¯ã€‚message } `)ï¼›
console.error('å¯¼å…¥ä¸–ç•Œä¹¦é”™è¯¯:',é”™è¯¯);
const now = new Date()ï¼›
æ’å®šå°æ—¶æ•°=ç°åœ¨. get hours()ï¼›
const minutes = now.getMinutes()ã€‚toString()ã€‚padStart(2ï¼Œ' 0 ')ï¼›
å¸¸æ•°ampm =å°æ—¶> = 12?'ä¸‹åˆ' : 'ä¸Šåˆï¼›
const displayHours = hours % 12 12
document.querySelector('ã€‚æ—¶é—´)ã€‚text content = ` $ { ampm } $ { display hours }:$ { minutes } `ï¼›

/ /Laden der gespeichertenAPISetup auf Form
updateUIFromSystemData();

æ›´æ–°æ—¶é—´()ï¼›
æ›´æ–°ç”µæ± ()ï¼›
setInterval(updateTimeï¼Œ1000)ï¼›
setInterval(updateBatteryï¼Œ5000)ï¼›
        });
</script>
</body>
</html>
