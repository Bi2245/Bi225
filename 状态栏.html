<!DOCTYPE html>
< html lang=â€œzh-CNâ€ >
< head >
< meta charset=â€œUTFå…«å·â€ >
< meta name = "è§†çª—" å†…å®¹ = å®½åº¦=è®¾å¤‡å®½åº¦ï¼Œåˆå§‹æ¯”ä¾‹=1.0 >
<æ ‡é¢˜>æ£®- æˆ‘OSæ‰‹æœº</tæˆ‘tle >
<é£æ ¼>
:root {
-æ‰‹æœº-å®½åº¦:375px
-æ‰‹æœº-é«˜åº¦:750px
-ä¸»æ–‡æœ¬:# 000ï¼›-æ¬¡è¦-æ–‡æœ¬:# 8e8e93
-èƒŒæ™¯è‰²:# f0f2f5-QQ-blue:# 12b7f 5ï¼›
-ç”µæ± -ç»¿è‰²:# 34c759-ç”µæ± -çº¢è‰²:# ff3b30
-æ¶ˆæ¯-ç»¿è‰²:# 34C759-è®ºå›-æ©™:# FF9500
-è®¾ç½®-ç°è‰²:# 8E8E93-ç…§ç‰‡-è“è‰²:# 415ED0
-ä¹¦ç±-æ©™è‰²:# FF9500-éŸ³ä¹-ç²‰è‰²:# FF2D55
-ä¸»é¢˜-ç´«è‰²:# BF5AF2-JD-red:# e 31436ï¼›
-ç¾å›¢-é»„:# FFC300-eleme-blue:# 0088 ffï¼›
        }

body {æ˜¾ç¤ºå™¨:flexjustify-content:å±…ä¸­ï¼›å¯¹é½-é¡¹ç›®:å±…ä¸­ï¼›èº«é«˜:100vhèƒŒæ™¯è‰²:# 333ï¼›font-family: -apple-systemï¼ŒBlinkMacSystemFontï¼Œâ€œSegoe UIâ€ï¼ŒRobotoï¼Œâ€œHelveticaæ–°â€ï¼ŒArialï¼Œsans-serifï¼›è¾¹è·:0ï¼›}
ã€‚ç”µè¯å®¹å™¨{ width:var(-phone-width)ï¼›é«˜åº¦:var(-phone-height)ï¼›èƒŒæ™¯:# fffè¾¹æ¡†åŠå¾„:40pxbox-shadow: 0 10px 40px rgba(0ï¼Œ0ï¼Œ0ï¼Œ0.3)ï¼›æ˜¾ç¤ºå™¨:flexä¼¸ç¼©æ–¹å‘:åˆ—ï¼›æº¢å‡º:éšè—ï¼›ä½ç½®:ç›¸å¯¹ï¼›è¾¹æ¡†:8pxçº¯è‰²# 111ï¼›}
ã€‚å±å¹•{å®½åº¦:100%ï¼›èº«é«˜:100%ï¼›æ˜¾ç¤ºå™¨:flexä¼¸ç¼©æ–¹å‘:åˆ—ï¼›ä½ç½®:ç›¸å¯¹ï¼›èƒŒæ™¯è‰²:var(-background-color)ï¼›}

        /* çŠ¶æ€æ æ ·å¼ */
ã€‚çŠ¶æ€æ {é«˜åº¦:40pxæ˜¾ç¤ºå™¨:flexjustify-content:space-betweenï¼›å¯¹é½-é¡¹ç›®:å±…ä¸­ï¼›å¡«å……:0 12pxé¢œè‰²:var(-primary-text)ï¼›å­—ä½“å¤§å°:16pxå­—ä½“ç²—ç»†:600ï¼›ä½ç½®:ç»å¯¹ï¼›top:0ï¼›å·¦:0ï¼›å³:0ï¼›zæŒ‡æ•°:1100ï¼›èƒŒæ™¯è‰²:é€æ˜ï¼›}
ã€‚å·¦é¡¹ï¼Œã€‚right-items { display:flexï¼›å¯¹é½-é¡¹ç›®:å±…ä¸­ï¼›}
ã€‚å³-items { gap:8pxï¼›}
ã€‚time { font-weight:700ï¼›}
        .dnd-icon { margin-left: 12px; font-size: 20px; display: none; }
        .network-container { display: flex; align-items: center; margin-right: 8px; }
        .network-type { margin-right: 8px; font-size: 14px; }
        .signal-bars { display: flex; align-items: flex-end; height: 14px; }
        .signal-bar { width: 4px; background-color: currentColor; margin-right: 1px; border-radius: 1px; }
        .signal-bar:nth-child(1) { height: 5px; } .signal-bar:nth-child(2) { height: 7px; } .signal-bar:nth-child(3) { height: 9px; } .signal-bar:nth-child(4) { height: 11px; } .signal-bar:nth-child(5) { height: 14px; margin-right: 0; }
        .battery-container { display: flex; align-items: center; }
        .battery-icon { width: 32px; height: 16px; border: 2px solid currentColor; border-radius: 5px; position: relative; overflow: hidden; }
        .battery-icon::after { content: ''; position: absolute; right: -4px; top: 4px; width: 3px; height: 8px; background-color: currentColor; border-radius: 0 3px 3px 0; }
        .battery-level { position: absolute; top: 1px; left: 1px; bottom: 1px; background-color: currentColor; border-radius: 3px; width: 80%; transition: width 0.5s ease, background-color 0.5s ease; }
        .battery-text { position: absolute; top: 50%; left: 50%; transform: translate(-50%, -50%); font-size: 11px; font-weight: bold; color: #111; z-index: 2; }
        .charging .battery-level { background-color: var(--battery-green); }
        .low-battery .battery-level { background-color: var(--battery-red); }

        /* çµåŠ¨å²›æ ·å¼ */
        .dynamic-island { position: absolute; top: 10px; left: 50%; transform: translateX(-50%); width: 140px; height: 40px; background-color: rgba(0, 0, 0, 0.8); border-radius: 25px; display: flex; justify-content: center; align-items: center; color: white; font-size: 16px; cursor: pointer; transition: all 0.3s ease; z-index: 1099; }
        .dynamic-island.expanded { width: 320px; height: 90px; border-radius: 45px; flex-direction: column; }
        .island-content { display: flex; align-items: center; }
        .island-icon { margin-right: 10px; font-size: 18px; }
        .expanded-content { display: none; text-align: center; margin-top: 8px; font-size: 14px; }
        .expanded .expanded-content { display: block; }
        .music-controls { display: none; flex-direction: column; align-items: center; width: 100%; padding: 10px; box-sizing: border-box; }
        .music-info { font-size: 14px; margin-bottom: 8px; }
        .music-progress { width: 90%; height: 4px; background-color: rgba(255,255,255,0.3); border-radius: 3px; margin-bottom: 8px; }
        .music-progress-bar { height: 100%; width: 50%; background-color: white; border-radius: 3px; }
        .music-buttons { display: flex; justify-content: center; align-items: center; }
        .music-btn { margin: 0 8px; font-size: 18px; cursor: pointer; }

        /* ä¸»å±å¹• & Dock */
        .home-screen { flex: 1; padding-top: 40px; padding-bottom: 100px; overflow-y: auto; display: grid; grid-template-columns: repeat(4, 1fr); grid-auto-rows: min-content; gap: 20px; padding: 60px 25px 100px; }
        .app-icon { display: flex; flex-direction: column; align-items: center; justify-content: center; cursor: pointer; }
        
        /* --- å›¾æ ‡ç¾åŒ–æ›´æ–° --- */
        .app-icon-image {
            width: 60px;
            height: 60px;
            border-radius: 13px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 28px;
            color: white;
            margin-bottom: 8px;
            overflow: hidden;
            background-color: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(0, 0, 0, 0.05);
            box-shadow: inset 0 1px 1px rgba(255, 255, 255, 0.2);
            transition: transform 0.2s ease;
        }
        .app-icon:active .app-icon-image {
            transform: scale(0.92);
        }
        .app-icon-image img { width: 100%; height: 100%; object-fit: cover; }
        .app-icon-name { font-size: 13px; color: var(--primary-text); text-align: center; }
        .dock { position: absolute; bottom: 0; left: 0; right: 0; height: 100px; background-color: rgba(240, 242, 245, 0.8); backdrop-filter: blur(12px); display: flex; justify-content: center; align-items: center; padding: 0 25px; }
        .dock-apps { display: flex; justify-content: space-around; width: 100%; }
        .dock-app { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .dock-app-icon { width: 60px; height: 60px; border-radius: 12px; display: flex; align-items: center; justify-content: center; font-size: 28px; color: white; overflow: hidden; transition: transform 0.2s ease; }
        .dock-app:active .dock-app-icon { transform: scale(0.92); }
        .dock-app-icon img { width: 100%; height: 100%; object-fit: cover; }

        /* åº•éƒ¨å¯¼èˆªæ  */
        .home-indicator { position: absolute; bottom: 10px; left: 50%; transform: translateX(-50%); width: 120px; height: 5px; background-color: #000; border-radius: 3px; cursor: pointer; z-index: 1100; }
        .home-indicator:hover { background-color: #555; }

        /* æ§åˆ¶ä¸­å¿ƒå’Œé€šçŸ¥ä¸­å¿ƒ */
        .control-center, .notification-center { position: absolute; top: 0; left: 0; right: 0; bottom: 0; background-color: rgba(240,240,240,0.95); backdrop-filter: blur(25px); z-index: 1200; padding: 25px; display: none; flex-direction: column; overflow-y: auto; }
        .notification-center { background-color: rgba(250,250,250,0.95); }
        .cc-header, .nc-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 20px; }
        .cc-title, .nc-title { font-weight: bold; font-size: 22px; }
        .cc-close, .nc-close { font-size: 28px; cursor: pointer; }
        .cc-grid { display: grid; grid-template-columns: repeat(4, 1fr); gap: 20px; margin-bottom: 25px; }
        .cc-item { display: flex; flex-direction: column; align-items: center; cursor: pointer; }
        .cc-icon { width: 60px; height: 60px; border-radius: 15px; background-color: rgba(200,200,200,0.5); display: flex; align-items: center; justify-content: center; font-size: 28px; margin-bottom: 8px; overflow: hidden; }
        .cc-icon img { width: 100%; height: 100%; object-fit: contain; padding: 10px; box-sizing: border-box; }
        .cc-name { font-size: 14px; text-align: center; }
        .brightness-slider { width: 100%; height: 35px; margin: 20px 0; }
        .brightness-control { width: 100%; }
        .media-player { width: 100%; background-color: rgba(200,200,200,0.5); border-radius: 15px; padding: 15px; margin-bottom: 20px; }
        .media-info { display: flex; align-items: center; margin-bottom: 15px; }
        .media-cover { width: 60px; height: 60px; border-radius: 8px; background-color: #ccc; margin-right: 15px; }
        .media-text { flex: 1; }
        .media-title { font-weight: bold; font-size: 18px; }
        .media-artist { font-size: 14px; color: var(--secondary-text); }
        .media-controls { display: flex; justify-content: space-between; align-items: center; }
        .media-btn { font-size: 28px; cursor: pointer; }
        .media-progress { width: 100%; height: 4px; background-color: rgba(0,0,0,0.1); border-radius: 3px; margin: 8px 0; }
        .media-progress-bar { height: 100%; width: 50%; background-color: #007AFF; border-radius: 3px; }
        .media-time { display: flex; justify-content: space-between; font-size: 14px; color: var(--secondary-text); }
        .notification-item { background-color: white; border-radius: 15px; padding: 15px; margin-bottom: 15px; box-shadow: 0 3px 8px rgba(0,0,0,0.1); }
        .notification-header { display: flex; justify-content: space-between; align-items: center; margin-bottom: 8px; }
        .notification-app { font-weight: bold; font-size: 16px; }
        .notification-time { font-size: 14px; color: var(--secondary-text); }
        .notification-content { font-size: 16px; }

        /* åº”ç”¨å®¹å™¨ */
        .app-container { position: absolute; inset: 0; background-color: #f5f5f5; display: none; flex-direction: column; z-index: 1000; transform: translateX(100%); transition: transform 0.3s ease-in-out; }
        .app-container.active { transform: translateX(0); }
        .app-header { height: 70px; display: flex; align-items: center; padding: 0 20px; color: var(--primary-text); position: relative; background-color: #f7f7f7; border-bottom: 1px solid #ddd; flex-shrink: 0; }
        .app-back-btn { font-size: 28px; margin-right: 20px; cursor: pointer; }
        .app-title { flex: 1; text-align: center; font-weight: bold; font-size: 20px; }
        .app-content { flex: 1; padding: 20px; overflow-y: auto; }

        /* --- API è®¾ç½®æ ·å¼æ›´æ–° --- */
        .api-settings { display: flex; flex-direction: column; gap: 15px; }
        .api-settings h2 { margin: 0 0 10px 0; font-size: 22px; }
        .api-form-group { display: flex; flex-direction: column; }
        .api-form-group label { margin-bottom: 5px; font-size: 14px; color: #555; font-weight: 500; }
        .api-form-group select, .api-form-group input { padding: 10px; border: 1px solid #ccc; border-radius: 8px; font-size: 16px; background-color: #fff; }
        .api-actions { display: flex; gap: 10px; margin-top: 10px; }
        .api-btn { flex: 1; padding: 12px; border: none; border-radius: 8px; font-size: 16px; cursor: pointer; transition: background-color 0.2s, transform 0.1s; font-weight: 600; }
        .api-btn:active { transform: scale(0.98); }
        .api-btn-primary { background-color: var(--qq-blue); color: white; }
        .api-btn-primary:hover { background-color: #0095c7; }
        .api-btn-secondary { background-color: #e0e0e0; color: #333; }
        .api-btn-secondary:hover { background-color: #c7c7c7; }
        .api-status { margin-top: 15px; padding: 10px; border-radius: 8px; text-align: center; font-size: 14px; }
        .api-status.info { background-color: #e2e3e5; color: #383d41; }
        .api-status.success { background-color: #d4edda; color: #155724; }
        .api-status.error { background-color: #f8d7da; color: #721c24; }
        .api-models-list { margin-top: 20px; border: 1px solid #ddd; border-radius: 8px; padding: 10px; max-height: 200px; overflow-y: auto; background-color: #fafafa; }
        .api-models-list h3 { margin: 0 0 10px 0; font-size: 16px; }
        .api-model-item { padding: 8px; border-bottom: 1px solid #eee; }
        .api-model-item:last-child { border-bottom: none; }
        .api-model-name { font-weight: bold; }
        .api-model-id { font-size: 12px; color: #777; word-break: break-all; }

        /* æš—è‰²æ¨¡å¼ */
        @media (prefers-color-scheme: dark) {
            :root { --primary-text: #fff; --secondary-text: #8e8e93; --background-color: #000; }
            .phone-container { background: #1c1c1e; }
            .screen { background-color: #000; }
            .app-icon-name { color: white; }
            .dock { background-color: rgba(28, 28, 30, 0.8); }
            .home-indicator { background-color: #fff; }
            .app-container, .app-header { background-color: #1c1c1e; color: #fff; border-bottom-color: #38383a; }
            .api-form-group label { color: #aaa; }
            .api-form-group select, .api-form-group input { background-color: #333; color: #fff; border-color: #555; }
        }
    </style>
</head>
<body>
    <div class="phone-container">
        <div class="screen">
            <!-- çŠ¶æ€æ  -->
            <div class="status-bar">
                <div class="left-items">
                    <div class="time">ä¸Šåˆ9:41</div>
                    <div class="dnd-icon">ğŸŒ™</div>
                </div>
                <div class="right-items">
                    <div class="network-container">
                        <div class="network-type">5G</div>
                        <div class="signal-bars">
                            <div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div><div class="signal-bar"></div>
                        </div>
                    </div>
                    <div class="battery-container">
                        <div class="battery-icon"><div class="battery-level"></div><div class="battery-text">80</div></div>
                    </div>
                </div>
            </div>
            
            <!-- çµåŠ¨å²› -->
            <div class="dynamic-island">
                <div class="island-content"><div class="island-icon">ã…‡ã……ã…‡</div><div>æ£®</div></div>
                <div class="expanded-content"><div>æ¬¢è¿ä½¿ç”¨æ£®</div><div>ç‚¹å‡»åº”ç”¨å¼€å§‹ä½¿ç”¨</div></div>
                <div class="music-controls">
                    <div class="music-info">æ­£åœ¨æ’­æ”¾: æ­Œæ›²åç§°</div>
                    <div class="music-progress"><div class="music-progress-bar"></div></div>
                    <div class="music-buttons"><div class="music-btn">âŠ²</div><div class="music-btn">â‹„</div><div class="music-btn">âŠ³</div></div>
                </div>
            </div>

            <!-- ä¸»å±å¹• -->
            <div class="home-screen"></div>

            <!-- åº•éƒ¨å¯¼èˆªæ  -->
            <div class="dock"><div class="dock-apps"></div></div>
            
            <!-- HomeæŒ‡ç¤ºå™¨ -->
            <div class="home-indicator" onclick="returnToHome()"></div>
        
            <!-- æ§åˆ¶ä¸­å¿ƒ -->
            <div class="control-center">
                <div class="cc-header"><div class="cc-title">æ§åˆ¶ä¸­å¿ƒ</div><div class="cc-close" onclick="hideControlCenter()">Ã—</div></div>
                <div class="cc-grid">
                    <div class="cc-item" onclick="toggleWifi()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/DWyy/1015X861/Image_1761364260122.png" alt="WiFi"></div><div class="cc-name">æ— çº¿å±€åŸŸç½‘</div></div>
                    <div class="cc-item" onclick="toggleBluetooth()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/7NYe/1208X1072/Image_1761364261254.png" alt="Bluetooth"></div><div class="cc-name">è“ç‰™</div></div>
                    <div class="cc-item" onclick="toggleAirplaneMode()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/wdgd/643X630/Image_1761364259392.png" alt="Airplane Mode"></div><div class="cc-name">é£è¡Œæ¨¡å¼</div></div>
                    <div class="cc-item" onclick="toggleCellular()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/YOpv/1186X1080/Image_1761364260618.png" alt="Cellular"></div><div class="cc-name">èœ‚çªç½‘ç»œ</div></div>
                    <div class="cc-item" onclick="toggleHotspot()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/h86b/640X594/Image_1761364260149.png" alt="Hotspot"></div><div class="cc-name">ä¸ªäººçƒ­ç‚¹</div></div>
                    <div class="cc-item" onclick="toggleDND()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/qu4r/527X693/Image_1761364259317.png" alt="DND"></div><div class="cc-name">å‹¿æ‰°æ¨¡å¼</div></div>
                    <div class="cc-item" onclick="toggleOrientationLock()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/ve2L/1646X1005/Image_1761364258979.png" alt="Orientation Lock"></div><div class="cc-name">æ–¹å‘é”å®š</div></div>
                    <div class="cc-item" onclick="openFlashlight()"><div class="cc-icon"><img src="https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/144c/1208X758/Image_1761364260710.png" alt="Flashlight"></div><div class="cc-name">æ‰‹ç”µç­’</div></div>
                </div>
                <div class="brightness-slider"><input type="range" min="0" max="100" value="50" class="brightness-control"></div>
                <div class="media-player">
                    <div class="media-info"><div class="media-cover"></div><div class="media-text"><div class="media-title">æ­Œæ›²åç§°</div><div class="media-artist">è‰ºæœ¯å®¶</div></div></div>
                    <div class="media-controls"><div class="media-btn">âŠ²</div><div class="media-btn">â‹„</div><div class="media-btn">âŠ³</div></div>
                    <div class="media-progress"><div class="media-progress-bar"></div></div>
                    <div class="media-time"><div>1:23</div><div>3:45</div></div>
                </div>
            </div>

            <!-- é€šçŸ¥ä¸­å¿ƒ -->
            <div class="notification-center">
                <div class="nc-header"><div class="nc-title">é€šçŸ¥</div><div class="nc-close" onclick="hideNotificationCenter()">Ã—</div></div>
                <div class="notification-item"><div class="notification-header"><div class="notification-app">ä¿¡æ¯</div><div class="notification-time">åˆšåˆš</div></div><div class="notification-content">æ‚¨æ”¶åˆ°ä¸€æ¡æ–°æ¶ˆæ¯</div></div>
                <div class="notification-item"><div class="notification-header"><div class="notification-app">QQ</div><div class="notification-time">10åˆ†é’Ÿå‰</div></div><div class="notification-content">å¥½å‹å‘æ¥ä¸€æ¡æ¶ˆæ¯</div></div>
            </div>

            <!-- åº”ç”¨å®¹å™¨ -->
            <div class="app-container" id="messageContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('message')">â†</div><div class="app-title">ä¿¡æ¯</div></div><div class="app-content"><p>ä¿¡æ¯åŠŸèƒ½å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="forumContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('forum')">â†</div><div class="app-title">è®ºå›å…«å¦</div></div><div class="app-content"><p>è®ºå›å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="settingsContainer">
                <div class="app-header"><div class="app-back-btn" onclick="closeApp('settings')">â†</div><div class="app-title">è®¾ç½®</div></div>
                <div class="app-content">
                    <div class="api-settings">
                        <h2>APIè®¾ç½®</h2>
                        <div class="api-form-group"><label for="apiProvider">APIæ¥å£æ¨¡å‹ä¾›åº”å•†</label><select id="apiProvider"><option value="openai">OpenAI</option><option value="anthropic">Anthropic</option><option value="google">Google Gemini</option><option value="custom">è‡ªå®šä¹‰</option></select></div>
                        <div class="api-form-group"><label for="apiUrl">å¡«å†™URLé“¾æ¥</label><input type="url" id="apiUrl" placeholder="https://api.example.com/v1"></div>
                        <div class="api-form-group"><label for="apiKey">è¾“å…¥APIå¯†é’¥</label><input type="password" id="apiKey" placeholder="è¾“å…¥æ‚¨çš„APIå¯†é’¥"></div>
                        <div class="api-actions"><button class="api-btn api-btn-primary" onclick="fetchModels()">è·å–æ¨¡å‹</button><button class="api-btn api-btn-secondary" onclick="testApiConnection()">æµ‹è¯•è¿æ¥</button></div>
                        <div class="api-status" id="apiStatus"></div>
                        <div class="api-models-list" id="apiModelsList" style="display: none;"></div>
                        <div class="api-actions" style="margin-top: 20px;"><button class="api-btn api-btn-primary" onclick="saveApiSettings()">ä¿å­˜è®¾ç½®</button></div>
                    </div>
                </div>
            </div>
            <div class="app-container" id="phoneContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('phone')">â†</div><div class="app-title">ç”µè¯</div></div><div class="app-content"><p>ç”µè¯åŠŸèƒ½å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="photosContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('photos')">â†</div><div class="app-title">å¤‡å¿˜å½•</div></div><div class="app-content"><p>å¤‡å¿˜å½•å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="booksContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('books')">â†</div><div class="app-title">ä¸–ç•Œä¹¦</div></div><div class="app-content"><p>ä¸–ç•Œä¹¦å†…å®¹å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="qqContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('qq')">â†</div><div class="app-title">QQ</div></div><div class="app-content"><p>QQåŠŸèƒ½å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="musicContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('music')">â†</div><div class="app-title">éŸ³ä¹</div></div><div class="app-content"><p>éŸ³ä¹åŠŸèƒ½å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="themeContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('theme')">â†</div><div class="app-title">ç¾åŒ–</div></div><div class="app-content"><p>ä¸»é¢˜è®¾ç½®å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="jdContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('jd')">â†</div><div class="app-title">ç½‘è´­</div></div><div class="app-content"><p>è´­ç‰©åŠŸèƒ½å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
            <div class="app-container" id="meituanContainer"><div class="app-header"><div class="app-back-btn" onclick="closeApp('meituan')">â†</div><div class="app-title">å¤–å–</div></div><div class="app-content"><p>å¤–å–åŠŸèƒ½å°†åœ¨è¿™é‡Œæ˜¾ç¤º</p></div></div>
        </div>
    </div>
    
    <script>
        // --- SYSTEM DATA ---
        let systemData = {
            battery: { level: 80, isCharging: false },
            network: { wifi: true, cellular: true, airplaneMode: false },
            settings: { dnd: false, brightness: 50, orientationLock: false, flashlight: false, apiProvider: 'openai', apiKey: '', apiUrl: '' },
            music: { isPlaying: false, currentSong: 'ç¤ºä¾‹æ­Œæ›²', currentArtist: 'ç¤ºä¾‹è‰ºæœ¯å®¶' }
        };

        // --- SYSTEM FUNCTIONS ---
        function updateTime() {
            const now = new Date();
            const hours = now.getHours();
            const minutes = now.getMinutes().toString().padStart(2, '0');
            const ampm = hours >= 12 ? 'ä¸‹åˆ' : 'ä¸Šåˆ';
            const displayHours = hours % 12 || 12;
            document.querySelector('.time').textContent = `${ampm}${displayHours}:${minutes}`;
        }

        function updateBattery() {
            const batteryIcon = document.querySelector('.battery-icon');
            const batteryLevelEl = document.querySelector('.battery-level');
            const batteryText = document.querySelector('.battery-text');
            
            if (!systemData.battery.isCharging && systemData.battery.level > 0.1) {
                systemData.battery.level -= 0.1;
            } else if (systemData.battery.isCharging && systemData.battery.level < 100) {
                systemData.battery.level += 0.5;
            }

            batteryLevelEl.style.width = `${systemData.battery.level}%`;
            batteryText.textContent = Math.round(systemData.battery.level);

            batteryIcon.classList.toggle('charging', systemData.battery.isCharging);
            batteryIcon.classList.toggle('low-battery', !systemData.battery.isCharging && systemData.battery.level <= 20);
        }

        function showControlCenter() { document.querySelector('.control-center').style.display = 'flex'; }
        function hideControlCenter() { document.querySelector('.control-center').style.display = 'none'; }
        function showNotificationCenter() { document.querySelector('.notification-center').style.display = 'flex'; }
        function hideNotificationCenter() { document.querySelector('.notification-center').style.display = 'none'; }

        function toggleWifi() { systemData.network.wifi = !systemData.network.wifi; alert(`æ— çº¿å±€åŸŸç½‘å·²${systemData.network.wifi ? 'å¼€å¯' : 'å…³é—­'}`); }
        function toggleBluetooth() { alert('è“ç‰™åŠŸèƒ½å·²åˆ‡æ¢'); }
        function toggleAirplaneMode() { systemData.network.airplaneMode = !systemData.network.airplaneMode; alert(`é£è¡Œæ¨¡å¼å·²${systemData.network.airplaneMode ? 'å¼€å¯' : 'å…³é—­'}`); }
        function toggleCellular() { systemData.network.cellular = !systemData.network.cellular; alert(`èœ‚çªç½‘ç»œå·²${systemData.network.cellular ? 'å¼€å¯' : 'å…³é—­'}`); }
        function toggleHotspot() { alert('ä¸ªäººçƒ­ç‚¹åŠŸèƒ½å·²åˆ‡æ¢'); }
        function toggleDND() { systemData.settings.dnd = !systemData.settings.dnd; document.querySelector('.dnd-icon').style.display = systemData.settings.dnd ? 'block' : 'none'; alert(`å‹¿æ‰°æ¨¡å¼å·²${systemData.settings.dnd ? 'å¼€å¯' : 'å…³é—­'}`); }
        function toggleOrientationLock() { systemData.settings.orientationLock = !systemData.settings.orientationLock; alert(`æ–¹å‘é”å®šå·²${systemData.settings.orientationLock ? 'å¼€å¯' : 'å…³é—­'}`); }
        function openFlashlight() { systemData.settings.flashlight = !systemData.settings.flashlight; alert(`æ‰‹ç”µç­’å·²${systemData.settings.flashlight ? 'å¼€å¯' : 'å…³é—­'}`); }

        // --- APP FUNCTIONS ---
        function openApp(appName) {
            const appContainer = document.getElementById(appName + 'Container');
            if (appContainer) {
                appContainer.style.display = 'flex';
                setTimeout(() => appContainer.classList.add('active'), 10);
            }
        }

        function closeApp(appName) {
            const appContainer = document.getElementById(appName + 'Container');
            if (appContainer) {
                appContainer.classList.remove('active');
                setTimeout(() => appContainer.style.display = 'none', 300);
            }
        }

        function returnToHome() {
            document.querySelectorAll('.app-container.active').forEach(el => closeApp(el.id.replace('Container', '')));
            hideControlCenter();
            hideNotificationCenter();
        }

        function toggleMusicOnIsland() {
            systemData.music.isPlaying = !systemData.music.isPlaying;
            const island = document.querySelector('.dynamic-island');
            const musicControls = island.querySelector('.music-controls');
            const islandContent = island.querySelector('.island-content');
            
            island.classList.remove('expanded');
            if (systemData.music.isPlaying) {
                island.style.width = '320px';
                musicControls.style.display = 'flex';
                islandContent.style.display = 'none';
            } else {
                island.style.width = '140px';
                musicControls.style.display = 'none';
                islandContent.style.display = 'flex';
            }
        }

        // --- API FUNCTIONS (ENHANCED) ---
        // æ³¨æ„: ç›´æ¥åœ¨æµè§ˆå™¨ä¸­è¿›è¡ŒAPIè¯·æ±‚å¯èƒ½ä¼šé‡åˆ°CORSï¼ˆè·¨åŸŸèµ„æºå…±äº«ï¼‰é—®é¢˜ã€‚
        // è¿™äº›ä»£ç åœ¨ç›®æ ‡APIæœåŠ¡å™¨å…è®¸è·¨åŸŸè¯·æ±‚æˆ–é€šè¿‡ä»£ç†æœåŠ¡å™¨è®¿é—®æ—¶æ‰èƒ½æ­£å¸¸å·¥ä½œã€‚
        async function fetchModels() {
            const provider = document.getElementById('apiProvider').value;
            const apiUrl = document.getElementById('apiUrl').value.trim();
            const apiKey = document.getElementById('apiKey').value.trim();
            const statusEl = document.getElementById('apiStatus');
            const modelsListEl = document.getElementById('apiModelsList');
            
            modelsListEl.style.display = 'none';
            modelsListEl.innerHTML = '';
            
            if (!apiUrl || !apiKey) {
                statusEl.textContent = 'è¯·å¡«å†™å®Œæ•´çš„API URLå’Œå¯†é’¥';
                statusEl.className = 'api-status error';
                return;
            }
            
            statusEl.textContent = 'æ­£åœ¨è·å–æ¨¡å‹åˆ—è¡¨...';
            statusEl.className = 'api-status info';

            let requestUrl = apiUrl.endsWith('/') ? `${apiUrl}models` : `${apiUrl}/models`;
            let headers = { 'Content-Type': 'application/json' };

            switch(provider) {
                case 'openai':
                case 'custom':
                    headers['Authorization'] = `Bearer ${apiKey}`;
                    break;
                case 'anthropic':
                    headers['x-api-key'] = apiKey;
                    // Anthropic APIç‰ˆæœ¬å¤´æ˜¯å¿…éœ€çš„
                    headers['anthropic-version'] = '2023-06-01';
                    // Anthropic è·å–æ¨¡å‹çš„ç«¯ç‚¹ä¸åŒ
                    requestUrl = 'https://cors-anywhere.herokuapp.com/https://api.anthropic.com/v1/models'; // ä½¿ç”¨CORSä»£ç†
                    break;
                case 'google':
                    requestUrl = `${apiUrl}/v1beta/models?key=${apiKey}`;
                    break;
            }

            try {
                // ä½¿ç”¨ä»£ç†æ¥è§£å†³CORSé—®é¢˜ï¼Œè¿™åªæ˜¯ä¸€ä¸ªç¤ºä¾‹ï¼Œå®é™…ç”Ÿäº§ç¯å¢ƒéœ€è¦è‡ªå»ºä»£ç†
                const proxyUrl = 'https://cors-anywhere.herokuapp.com/';
                const response = await fetch(proxyUrl + requestUrl, { headers });
                
                if (!response.ok) {
                    const errorBody = await response.text();
                    throw new Error(`è¯·æ±‚å¤±è´¥: ${response.status} ${response.statusText}. å“åº”: ${errorBody}`);
                }
                const data = await response.json();
                
                let models = [];
                if (provider === 'openai' || provider === 'custom') models = data.data || [];
                else if (provider === 'anthropic') models = data.data || []; // Anthropic v1 models APIè¿”å› 'data'
                else if (provider === 'google') models = data.models || [];

                if (models.length > 0) {
                    modelsListEl.innerHTML = '<h3>å¯ç”¨æ¨¡å‹åˆ—è¡¨</h3>';
                    models.forEach(model => {
                        const modelId = model.id || model.name;
                        const modelName = model.name || model.id || model.displayName;
                        const modelEl = document.createElement('div');
                        modelEl.className = 'api-model-item';
                        modelEl.innerHTML = `<div class="api-model-name">${modelName.split('/').pop()}</div><div class="api-model-id">ID: ${modelId}</div>`;
                        modelsListEl.appendChild(modelEl);
                    });
                    modelsListEl.style.display = 'block';
                    statusEl.textContent = `æˆåŠŸè·å– ${models.length} ä¸ªæ¨¡å‹`;
                    statusEl.className = 'api-status success';
                } else {
                    statusEl.textContent = 'æœªæ‰¾åˆ°å¯ç”¨æ¨¡å‹ï¼Œè¯·æ£€æŸ¥APIå“åº”æ ¼å¼';
                    statusEl.className = 'api-status error';
                }
            } catch (error) {
                statusEl.textContent = `è·å–æ¨¡å‹å¤±è´¥: ${error.message}`;
                statusEl.className = 'api-status error';
                console.error('è·å–æ¨¡å‹å¤±è´¥:', error);
            }
        }

        async function testApiConnection() {
            const statusEl = document.getElementById('apiStatus');
            statusEl.textContent = 'æ­£åœ¨æµ‹è¯•è¿æ¥...';
            statusEl.className = 'api-status info';
            await fetchModels(); // å¤ç”¨è·å–æ¨¡å‹çš„é€»è¾‘æ¥æµ‹è¯•
            if (statusEl.classList.contains('success')) {
                statusEl.textContent = 'APIè¿æ¥æµ‹è¯•æˆåŠŸï¼';
            }
        }

        function saveApiSettings() {
            systemData.settings.apiProvider = document.getElementById('apiProvider').value;
            systemData.settings.apiUrl = document.getElementById('apiUrl').value.trim();
            systemData.settings.apiKey = document.getElementById('apiKey').value.trim();
            const statusEl = document.getElementById('apiStatus');
            statusEl.textContent = 'APIè®¾ç½®å·²ä¿å­˜åˆ°å…¨å±€';
            statusEl.className = 'api-status success';
            // éšè—å¯†é’¥åæ‰“å°ï¼Œä¿æŠ¤éšç§
            console.log('APIè®¾ç½®å·²ä¿å­˜:', { ...systemData.settings, apiKey: 'â€¢â€¢â€¢â€¢â€¢â€¢â€¢â€¢' });
        }

        // --- INITIALIZATION ---
        document.addEventListener('DOMContentLoaded', () => {
            const appData = [
                { id: 'message', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/YOpv/1186X1080/Image_1761364260618.png', name: 'ä¿¡æ¯' },
                { id: 'forum', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251021/KpZf/1079X1083/Image_1760785735649.png', name: 'è®ºå›å…«å¦' },
                { id: 'settings', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/DWyy/1015X861/Image_1761364260122.png', name: 'è®¾ç½®' },
                { id: 'phone', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/7NYe/1208X1072/Image_1761364261254.png', name: 'ç”µè¯' },
                { id: 'photos', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/OJ0P/920X1024/Image_1760785734981.png', name: 'å¤‡å¿˜å½•' },
                { id: 'books', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251021/yD6d/742X1024/Image_1760785734886.png', name: 'ä¸–ç•Œä¹¦' },
                { id: 'qq', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/qu4r/527X693/Image_1761364259317.png', name: 'QQ' },
                { id: 'music', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/C1S1/863X793/Image_1761364257242.png', name: 'éŸ³ä¹' },
                { id: 'theme', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/wdgd/643X630/Image_1761364259392.png', name: 'ç¾åŒ–' },
                { id: 'jd', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/h86b/640X594/Image_1761364260149.png', name: 'ç½‘è´­' },
                { id: 'meituan', icon: 'https://tc.z.wiki/autoupload/f/_dUEGnKEJQzmc-cKlsXN5NiO_OyvX7mIgxFBfDMDErs/20251025/L6Oz/985X1112/Image_1761364257742.png', name: 'å¤–å–' },
            ];
            
            const homeScreen = document.querySelector('.home-screen');
            const dockApps = document.querySelector('.dock-apps');
            const dockAppIds = ['phone', 'message', 'photos', 'settings'];

            appData.forEach(app => {
                const isDockApp = dockAppIds.includes(app.id);
                const container = isDockApp ? dockApps : homeScreen;
                const el = document.createElement('div');
                el.className = isDockApp ? 'dock-app' : 'app-icon';
                el.onclick = () => openApp(app.id);
                el.innerHTML = `
                    <div class="${isDockApp ? 'dock-app-icon' : 'app-icon-image'}">
                        <img src="${app.icon}" alt="${app.name}">
                    </div>
                    ${!isDockApp ? `<div class="app-icon-name">${app.name}</div>` : ''}
                `;
                container.appendChild(el);
            });

            document.querySelector('.time').addEventListener('click', showNotificationCenter);
            document.querySelector('.battery-container').addEventListener('click', showControlCenter);
            document.querySelector('.dynamic-island').addEventListener('click', function() {
                if (systemData.music.isPlaying) return;
                this.classList.toggle('expanded');
            });
            document.querySelector('.music-btn:nth-child(2)').addEventListener('click', toggleMusicOnIsland);
            
            // åŠ è½½å·²ä¿å­˜çš„APIè®¾ç½®åˆ°è¡¨å•
            document.getElementById('apiProvider').value = systemData.settings.apiProvider;
            document.getElementById('apiUrl').value = systemData.settings.apiUrl;
            document.getElementById('apiKey').value = systemData.settings.apiKey;

            updateTime();
            setInterval(updateTime, 1000);
            setInterval(updateBattery, 5000);
            updateBattery();
        });
    </script>
</body>
</html>
